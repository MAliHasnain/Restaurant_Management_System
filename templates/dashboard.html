<!DOCTYPE html>
<html>
<head>
<title>Resturant Management System</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
<style>
    body, h1, h5 {
        font-family: "Raleway", sans-serif;
    }

    body, html {
        height: 100%;
        margin: 0;
        padding: 0;
    }
.img {
  background-image: url('https://images.unsplash.com/photo-1491960693564-421771d727d6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTV8fGJ1cmdlciUyMHBpfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60');
  min-height: 100%;
  background-position: center;
  background-size: cover;
}
    input[type=text], select {
      width: 100%;
      padding: 12px 20px;
      margin: 8px 0;
      display: inline-block;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-sizing: border-box;
    }
    
    input[type=submit] {
      width: 100%;
      background-color: #4CAF50;
      color: white;
      padding: 14px 20px;
      margin: 8px 0;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    
    input[type=submit]:hover {
      background-color: #45a049;
    }
    
    divi {
      border-radius: 5px;
      background-color: #f2f2f2;
      padding: 20px;
    }
</style>
</head>
<body>

<div class="img w3-display-container w3-text-white">
  <div class="w3-display-topleft w3-container w3-xlarge">
    <p><button onclick="document.getElementById('menu').style.display='block'; getMenuData();" class="w3-button w3-black">menu</button></p>
    <p><button onclick="document.getElementById('user').style.display='block'; getUserData();" class="w3-button w3-black">User</button></p>
    <p><button onclick="document.getElementById('customer').style.display='block'; getCustomerData();" class="w3-button w3-black">Customer</button></p>
    <p><button onclick="document.getElementById('employee').style.display='block'; getEmployeeData();" class="w3-button w3-black">Employee</button></p>
    <p><button onclick="document.getElementById('bill').style.display='block'; getBillData();" class="w3-button w3-black">Bill</button></p>
    <p><button onclick="document.getElementById('order').style.display='block'; getOrderData();" class="w3-button w3-black">Order</button></p>
    <p><button onclick="document.getElementById('stock').style.display='block'; getStockData();" class="w3-button w3-black">Stock</button></p>
  </div>
  <div class="w3-display-bottomleft w3-container">
    <p class="w3-xlarge">monday - friday 10-23 | saturday 14-02</p>
    <p class="w3-large">42 village St, New York</p>
    <p><a href="https://www.w3schools.com/w3css/default.asp" target="_blank"></a></p>
  </div>
</div>



<!-- Menu Modal -->
<div id="menu" class="w3-modal">
    <div class="w3-modal-content w3-animate-zoom">
        <div class="w3-container w3-black w3-display-container">
            <span onclick="document.getElementById('menu').style.display='none'" class="w3-button w3-display-topright w3-large">x</span>
            <h1>Main Courses <button onclick="document.getElementById('add_item').style.display='block'; document.getElementById('menu').style.display='none';" class="w3-button w3-black">Add</button></h1>
        </div>
        <div class="w3-container" id="menu-data">
            <!-- Data from API will be displayed here in a table -->
            <table class="w3-table-all">
                <thead>
                    <tr>
                        <th>Item Name</th>
                        <b><th>Price</th></b>
                        <th>Description</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody id="menu-table-body">
                </tbody>
            </table>
        </div>
        <div class="w3-container w3-black">
        </div>
    </div>
</div>

<!-- Add Menu Item Modal -->
<div id="add_item" class="w3-modal">
  <div class="w3-modal-content w3-animate-zoom">
      <div class="w3-container w3-black w3-display-container">
        <span onclick="document.getElementById('add_item').style.display='none'; document.getElementById('menu').style.display='block';" class="w3-button w3-display-topright w3-large">x</span>
        <!-- ... Existing content ... -->
        <h1>Add Item</h1>
      </div>
      <div class="w3-container" id="menu-data">
          <form action="/add_menu" method="POST">
              <label for="Description">Description</label>
              <input type="text" id="description" name="description">

              <label for="Item_name">Item name</label>
              <input type="text" id="item_name" name="item_name">

              <label for="Price">Price</label>
              <input type="text" id="price" name="price">

              <input type="hidden" id="edit_menu_id" name="edit_menu_id" value=""> <!-- Hidden field to store the menu item ID -->
              <input type="submit" value="Submit">
          </form>
      </div>
      <div class="w3-container w3-black">
      </div>
  </div>
</div>

<!-- Edit menu Item Modal -->
<div id="edit_item" class="w3-modal">
  <div class="w3-modal-content w3-animate-zoom">
      <div class="w3-container w3-black w3-display-container">
          <span onclick="document.getElementById('edit_item').style.display='none'" class="w3-button w3-display-topright w3-large">x</span>
          <h1>Edit Item</h1>
      </div>
      <div class="w3-container" id="menu-data">
          <form onsubmit="event.preventDefault(); updateMenuItem();">
              <label for="edit_description">Description</label>
              <input type="text" id="edit_description" name="edit_description">

              <label for="edit_item_name">Item name</label>
              <input type="text" id="edit_item_name" name="edit_item_name">

              <label for="edit_price">Price</label>
              <input type="text" id="edit_price" name="edit_price">

              <input type="hidden" id="edit_menu_id" name="edit_menu_id" value=""> <!-- Hidden field to store the menu item ID -->
              <input type="submit" value="Edit">
          </form>
      </div>
      <div class="w3-container w3-black">
      </div>
  </div>
</div>

<!-- User Modal -->
<div id="user" class="w3-modal">
  <div class="w3-modal-content w3-animate-zoom">
      <div class="w3-container w3-black w3-display-container">
          <span onclick="document.getElementById('user').style.display='none'" class="w3-button w3-display-topright w3-large">x</span>
          <h1>Users <button onclick="document.getElementById('add_user').style.display='block'; document.getElementById('user').style.display='none';" class="w3-button w3-black">Add</button></h1>
      </div>
      <div class="w3-container" id="user-data">
          <!-- Data from API will be displayed here in a table -->
          <table class="w3-table-all">
              <thead>
                  <tr>
                      <th>User Id</th>
                      <th>Name</th>
                      <th>Role</th>
                      <th>Action</th>
                  </tr>
              </thead>
              <tbody id="user-table-body">
              </tbody>
          </table>
      </div>
      <div class="w3-coidner w3-black">
      </div>
  </div>
</div>

<!-- Add User Modal -->
<div id="add_user" class="w3-modal">
  <div class="w3-modal-content w3-animate-zoom">
    <div class="w3-container w3-black w3-display-container">
      <span onclick="document.getElementById('user').style.display='block'; document.getElementById('add_user').style.display='none';" class="w3-button w3-display-topright w3-large">x</span>
      <h1>Add User</h1>  
      <!-- ... Existing content ... -->
    </div>
    <div class="w3-container" id="user-data">
        <form action="/add_user" method="POST">
            <label for="name">Name</label>
            <input type="text" id="name" name="name">

            <label for="Role">Role</label>
            <input type="text" id="role" name="role">

            <input type="hidden" id="edit_user_id" name="edit_user_id" value=""> <!-- Hidden field to store the user item ID -->
            <input type="submit" value="Submit">
        </form>
    </div>
    <div class="w3-container w3-black">
    </div>
  </div>
</div>

<!-- Edit User Modal -->
<div id="edit_user" class="w3-modal">
  <div class="w3-modal-content w3-animate-zoom">
      <div class="w3-container w3-black w3-display-container">
          <span onclick="document.getElementById('edit_item').style.display='none'" class="w3-button w3-display-topright w3-large">x</span>
          <h1>Edit User</h1>
      </div>
      <div class="w3-container" id="user-data">
          <form onsubmit="event.preventDefault(); updateUserItem();">
              <label for="edit_name">Name</label>
              <input type="text" id="edit_name" name="edit_name">

              <label for="edit_role">Role</label>
              <input type="text" id="edit_role" name="edit_role">

              <input type="hidden" id="edit_user_id" name="edit_user_id" value=""> <!-- Hidden field to store the user item ID -->
              <input type="submit" value="Edit">
          </form>
      </div>
      <div class="w3-container w3-black">
      </div>
  </div>
</div>


<!-- Customer Modal -->
<div id="customer" class="w3-modal">
  <div class="w3-modal-content w3-animate-zoom">
      <div class="w3-container w3-black w3-display-container">
          <span onclick="document.getElementById('customer').style.display='none'" class="w3-button w3-display-topright w3-large">x</span>
          <h1>Customers List <button onclick="document.getElementById('add_customer').style.display='block'; document.getElementById('customer').style.display='none';" class="w3-button w3-black">Add</button></h1>
      </div>
      <div class="w3-container" id="customer-data">
          <!-- Data from API will be displayed here in a table -->
          <table class="w3-table-all">
              <thead>
                  <tr>
                      <th>User Id</th>
                      <th>Phone</th>
                      <th>Address</th>
                      <th>Action</th>
                  </tr>
              </thead>
              <tbody id="customer-table-body">
              </tbody>
          </table>
      </div>
      <div class="w3-container w3-black">
      </div>
  </div>
</div>

<!-- Add Customer Modal -->
<div id="add_customer" class="w3-modal">
  <div class="w3-modal-content w3-animate-zoom">
      <div class="w3-container w3-black w3-display-container">
        <span onclick="document.getElementById('add_customer').style.display='none'; document.getElementById('customer').style.display='block';" class="w3-button w3-display-topright w3-large">x</span>
          <h1>Add New</h1>
      </div>
      <div class="w3-container" id="customer-data">
          <form action="/add_customer" method="POST">
              <label for="user_id">User Id</label>
              <input type="text" id="user_id" name="user_id">

              <label for="phone">Phone</label>
              <input type="text" id="phone" name="phone">

              <label for="address">Address</label>
              <input type="text" id="address" name="address">

              <input type="hidden" id="edit_customer_id" name="edit_customer_id" value=""> <!-- Hidden field to store the menu item ID -->
              <input type="submit" value="Submit">
          </form>
      </div>
      <div class="w3-container w3-black">
      </div>
  </div>
</div>

<!-- Edit Customer Modal -->
<div id="edit_customer" class="w3-modal">
  <div class="w3-modal-content w3-animate-zoom">
      <div class="w3-container w3-black w3-display-container">
          <span onclick="document.getElementById('edit_customer').style.display='none'" class="w3-button w3-display-topright w3-large">x</span>
          <h1>Edit Customer</h1>
      </div>
      <div class="w3-container" id="customer-data">
          <form onsubmit="event.preventDefault(); updateCustomerItem();">
              <label for="edit_userId">User Id</label>
              <input type="text" id="edit_userId" name="edit_userId">

              <label for="edit_phone">Phone</label>
              <input type="text" id="edit_phone" name="edit_phone">

              <label for="edit_address">Address</label>
              <input type="text" id="edit_address" name="edit_address">

              <input type="hidden" id="edit_customer_id" name="edit_customer_id" value=""> <!-- Hidden field to store the user item ID -->
              <input type="submit" value="Edit">
          </form>
      </div>
      <div class="w3-container w3-black">
      </div>
  </div>
</div>

<!-- Employee Modal -->
<div id="employee" class="w3-modal">
  <div class="w3-modal-content w3-animate-zoom">
      <div class="w3-container w3-black w3-display-container">
          <span onclick="document.getElementById('employee').style.display='none'" class="w3-button w3-display-topright w3-large">x</span>
          <h1>Employee List <button onclick="document.getElementById('add_employee').style.display='block'; document.getElementById('employee').style.display='none';" class="w3-button w3-black">Add</button></h1>
      </div>
      <div class="w3-container" id="employee-data">
          <!-- Data from API will be displayed here in a table -->
          <table class="w3-table-all">
              <thead>
                  <tr>
                      <th>User Id</th>
                      <th>Category</th>
                      <th>Salary</th>
                      <th>Action</th>
                  </tr>
              </thead>
              <tbody id="employee-table-body">
              </tbody>
          </table>
      </div>
      <div class="w3-container w3-black">
      </div>
  </div>
</div>

<!-- Add Employee Modal -->
<div id="add_employee" class="w3-modal">
  <div class="w3-modal-content w3-animate-zoom">
      <div class="w3-container w3-black w3-display-container">
        <span onclick="document.getElementById('add_employee').style.display='none'; document.getElementById('employee').style.display='block';" class="w3-button w3-display-topright w3-large">x</span>
          <h1>Add New</h1>
      </div>
      <div class="w3-container" id="employee-data">
          <form action="/add_employee" method="POST">
              <label for="user_id">User Id</label>
              <input type="text" id="user_id" name="user_id">

              <label for="category">Category</label>
              <input type="text" id="category" name="category">

              <label for="salary">Salary</label>
              <input type="text" id="salary" name="salary">

              <input type="hidden" id="edit_employee_id" name="edit_employee_id" value=""> <!-- Hidden field to store the menu item ID -->
              <input type="submit" value="Submit">
          </form>
      </div>
      <div class="w3-container w3-black">
      </div>
  </div>
</div>


<!-- Edit Employee Modal -->
<div id="edit_employee" class="w3-modal">
  <div class="w3-modal-content w3-animate-zoom">
      <div class="w3-container w3-black w3-display-container">
          <span onclick="document.getElementById('edit_employee').style.display='none'" class="w3-button w3-display-topright w3-large">x</span>
          <h1>Edit Employee</h1>
      </div>
      <div class="w3-container" id="employee-data">
          <form onsubmit="event.preventDefault(); updateEmployeeItem();">
              <label for="edit_userId1">User Id</label>
              <input type="text" id="edit_userId1" name="edit_userId1">

              <label for="edit_category">Category</label>
              <input type="text" id="edit_category" name="edit_category">

              <label for="edit_salary">Salary</label>
              <input type="text" id="edit_salary" name="edit_salary">

              <input type="hidden" id="edit_employee_id" name="edit_employee_id" value=""> <!-- Hidden field to store the user item ID -->
              <input type="submit" value="Edit">
          </form>
      </div>
      <div class="w3-container w3-black">
      </div>
  </div>
</div>

<!-- Bill Modal -->
<div id="bill" class="w3-modal">
  <div class="w3-modal-content w3-animate-zoom">
      <div class="w3-container w3-black w3-display-container">
          <span onclick="document.getElementById('bill').style.display='none'" class="w3-button w3-display-topright w3-large">x</span>
          <h1>Bills <button onclick="document.getElementById('add_bill').style.display='block'; document.getElementById('bill').style.display='none';" class="w3-button w3-black">Add</button></h1>
      </div>
      <div class="w3-container" id="bill-data">
          <!-- Data from API will be displayed here in a table -->
          <table class="w3-table-all">
              <thead>
                  <tr>
                      <th>Order Id</th>
                      <th>Total Amount</th>
                      <th>Payment Status</th>
                      <th>Action</th>
                  </tr>
              </thead>
              <tbody id="bill-table-body">
              </tbody>
          </table>
      </div>
      <div class="w3-container w3-black">
      </div>
  </div>
</div>

<!-- Add Bill Modal -->
<div id="add_bill" class="w3-modal">
  <div class="w3-modal-content w3-animate-zoom">
      <div class="w3-container w3-black w3-display-container">
        <span onclick="document.getElementById('add_bill').style.display='none'; document.getElementById('bill').style.display='block';" class="w3-button w3-display-topright w3-large">x</span>
          <h1>Add New</h1>
      </div>
      <div class="w3-container" id="employee-data">
          <form action="/add_bill" method="POST">
              <label for="order_id">Order Id</label>
              <input type="text" id="order_id" name="order_id">

              <label for="total_amount">Total Amount</label>
              <input type="text" id="total_amount" name="total_amount">

              <label for="payment_status">Payment Status</label>
              <input type="text" id="payment_status" name="payment_status">

              <input type="hidden" id="edit_bill_id" name="edit_bill_id" value=""> <!-- Hidden field to store the menu item ID -->
              <input type="submit" value="Submit">
          </form>
      </div>
      <div class="w3-container w3-black">
      </div>
  </div>
</div>

<!-- Edit Bill Modal -->
<div id="edit_bill" class="w3-modal">
  <div class="w3-modal-content w3-animate-zoom">
      <div class="w3-container w3-black w3-display-container">
          <span onclick="document.getElementById('edit_bill').style.display='none'" class="w3-button w3-display-topright w3-large">x</span>
          <h1>Edit Bill</h1>
      </div>
      <div class="w3-container" id="bill-data">
          <form onsubmit="event.preventDefault(); updateBillItem();">
              <label for="edit_orderId">Order Id</label>
              <input type="text" id="edit_orderId" name="edit_orderId">

              <label for="edit_total_amount">Total Amount</label>
              <input type="text" id="edit_total_amount" name="edit_total_amount">

              <label for="edit_payment_status">Payment Status</label>
              <input type="text" id="edit_payment_status" name="edit_payment_status">

              <input type="hidden" id="edit_bill_id" name="edit_bill_id" value=""> <!-- Hidden field to store the user item ID -->
              <input type="submit" value="Edit">
          </form>
      </div>
      <div class="w3-container w3-black">
      </div>
  </div>
</div>

<!-- Order Modal -->
<div id="order" class="w3-modal">
  <div class="w3-modal-content w3-animate-zoom">
      <div class="w3-container w3-black w3-display-container">
          <span onclick="document.getElementById('order').style.display='none'" class="w3-button w3-display-topright w3-large">x</span>
          <h1>Orders <button onclick="document.getElementById('add_order').style.display='block'; document.getElementById('order').style.display='none';" class="w3-button w3-black">Add</button></h1>
      </div>
      <div class="w3-container" id="order-data">
          <!-- Data from API will be displayed here in a table -->
          <table class="w3-table-all">
              <thead>
                  <tr>
                      <th>Employee Id</th>
                      <th>Customer Id</th>
                      <th>Order Date</th>
                      <th>Order Item</th>
                      <th>Quantity</th>
                      <th>Price</th>
                      <th>Description</th>
                      <th>Order Status</th>
                      <th>Action</th>
                  </tr>
              </thead>
              <tbody id="order-table-body">
              </tbody>
          </table>
      </div>
      <div class="w3-container w3-black">
      </div>
  </div>
</div>

<!-- Add Order Modal -->
<div id="add_order" class="w3-modal">
  <div class="w3-modal-content w3-animate-zoom">
      <div class="w3-container w3-black w3-display-container">
        <span onclick="document.getElementById('add_order').style.display='none'; document.getElementById('order').style.display='block';" class="w3-button w3-display-topright w3-large">x</span>
          <h1>Add New</h1>
      </div>
      <div class="w3-container" id="order-data">
          <form action="/add_order" method="POST">
              <label for="emp_id">Employee Id</label>
              <input type="text" id="emp_id" name="emp_id">

              <label for="cust_id">Customer Id</label>
              <input type="text" id="cust_id" name="cust_id">

              <label for="order_date">Order Date</label>
              <input type="text" id="order_date" name="order_date" placeholder = "YYYY-MM-DD">

              <label for="order_item">Order Item</label>
              <input type="text" id="order_item" name="order_item">

              <label for="quantity">Quantity</label>
              <input type="text" id="quantity" name="quantity">

              <label for="price">Price</label>
              <input type="text" id="price" name="price">

              <label for="description">Description</label>
              <input type="text" id="description" name="description">

              <label for="order_status">Order Status</label>
              <input type="text" id="order_status" name="order_status">

              <input type="hidden" id="edit_order_id" name="edit_order_id" value=""> <!-- Hidden field to store the menu item ID -->
              <input type="submit" value="Submit">
          </form>
      </div>
      <div class="w3-container w3-black">
      </div>
  </div>
</div>


<!-- Edit Order Modal -->
<div id="edit_order" class="w3-modal">
  <div class="w3-modal-content w3-animate-zoom">
      <div class="w3-container w3-black w3-display-container">
          <span onclick="document.getElementById('edit_order').style.display='none'" class="w3-button w3-display-topright w3-large">x</span>
          <h1>Edit order</h1>
      </div>
      <div class="w3-container" id="order-data">
          <form onsubmit="event.preventDefault(); updateOrderItem();">
              <label for="edit_empId">Employee Id</label>
              <input type="text" id="edit_empId" name="edit_empId">

              <label for="edit_custId">Customer Id</label>
              <input type="text" id="edit_custId" name="edit_custId">

              <label for="edit_order_date">Order Date</label>
              <input type="text" id="edit_order_date" name="edit_order_date" placeholder = "YYYY-MM-DD">

              <label for="edit_order_item">Order Item</label>
              <input type="text" id="edit_order_item" name="edit_order_item">

              <label for="edit_quantity">Quantity</label>
              <input type="text" id="edit_quantity" name="edit_quantity">

              <label for="edit_price1">Price</label>
              <input type="text" id="edit_price1" name="edit_price1">

              <label for="edit_Description">Description</label>
              <input type="text" id="edit_Description" name="edit_Description">

              <label for="edit_order_status">Order Status</label>
              <input type="text" id="edit_order_status" name="edit_order_status">

              <input type="hidden" id="edit_order_Id" name="edit_order_Id" value=""> <!-- Hidden field to store the user item ID -->
              <input type="submit" value="Edit">
          </form>
      </div>
      <div class="w3-container w3-black">
      </div>
  </div>
</div>

<!-- Stock Modal -->
<div id="stock" class="w3-modal">
  <div class="w3-modal-content w3-animate-zoom">
      <div class="w3-container w3-black w3-display-container">
          <span onclick="document.getElementById('stock').style.display='none'" class="w3-button w3-display-topright w3-large">x</span>
          <h1>Orders <button onclick="document.getElementById('add_stock').style.display='block'; document.getElementById('stock').style.display='none';" class="w3-button w3-black">Add</button></h1>
      </div>
      <div class="w3-container" id="stock-data">
          <!-- Data from API will be displayed here in a table -->
          <table class="w3-table-all">
              <thead>
                  <tr>
                      <th>Menu Item</th>
                      <th>Quantity</th>
                      <th>Action</th>
                  </tr>
              </thead>
              <tbody id="stock-table-body">
              </tbody>
          </table>
      </div>
      <div class="w3-container w3-black">
      </div>
  </div>
</div>

<!-- Add Stock Modal -->
<div id="add_stock" class="w3-modal">
  <div class="w3-modal-content w3-animate-zoom">
      <div class="w3-container w3-black w3-display-container">
        <span onclick="document.getElementById('add_stock').style.display='none'; document.getElementById('stock').style.display='block';" class="w3-button w3-display-topright w3-large">x</span>
          <h1>Add New</h1>
      </div>
      <div class="w3-container" id="stock-data">
          <form action="/add_stock" method="POST">
      
              <label for="menu_item">Menu Item</label>
              <input type="text" id="menu_item" name="menu_item">

              <label for="quantity">Quantity</label>
              <input type="text" id="quantity" name="quantity">

              <input type="hidden" id="edit_stock_id" name="edit_order_id" value=""> <!-- Hidden field to store the menu item ID -->
              <input type="submit" value="Submit">
          </form>
      </div>
      <div class="w3-container w3-black">
      </div>
  </div>
</div>


<!-- Edit Stock Modal -->
<div id="edit_stock" class="w3-modal">
  <div class="w3-modal-content w3-animate-zoom">
      <div class="w3-container w3-black w3-display-container">
          <span onclick="document.getElementById('edit_stock').style.display='none'" class="w3-button w3-display-topright w3-large">x</span>
          <h1>Edit stock</h1>
      </div>
      <div class="w3-container" id="stock-data">
          <form onsubmit="event.preventDefault(); updateStockItem();">
              <label for="edit_menu_item">Menu Item</label>
              <input type="text" id="edit_menu_item" name="edit_menu_item">

              <label for="edit_quantity1">Quantity</label>
              <input type="text" id="edit_quantity1" name="edit_quantity1">

              <input type="hidden" id="edit_stock_id" name="edit_stock_id" value=""> <!-- Hidden field to store the user item ID -->
              <input type="submit" value="Edit">
          </form>
      </div>
      <div class="w3-container w3-black">
      </div>
  </div>
</div>


<script>
    function getMenuData() {
      // Make the API call
      fetch('/menu') // Assuming this endpoint returns the menu data
        .then(response => response.json())
        .then(data => {
          console.log('Fetched data:', data); // Log the fetched data
  
          // Rest of the code to display the data in the modal
          const menuDataDiv = document.getElementById('menu-table-body');
          menuDataDiv.innerHTML = ''; // Clear previous data (if any)
  
          // Create HTML elements to display the data in a table
          data.data.forEach(menuItem => {
            const row = document.createElement('tr');
            const itemNameCell = document.createElement('td');
            const priceCell = document.createElement('td');
            const descriptionCell = document.createElement('td');
            const actionCell = document.createElement('td'); // Cell for Edit and Delete buttons

            itemNameCell.textContent = menuItem[1]; // Item Name from data[i][1]
            priceCell.textContent = menuItem[2]; // Price from data[i][2]
            descriptionCell.textContent = menuItem[3];
            // Edit button
            const editButton = document.createElement('button');
            editButton.textContent = 'Edit';
            editButton.onclick = () => {
                openEditMenuModal(menuItem[0]); // Passing the menu item ID to the function
            };
            actionCell.appendChild(editButton);

            // Delete button
            const deleteButton = document.createElement('button');
            deleteButton.textContent = 'Delete';
            deleteButton.onclick = () => {
              // Call the deleteMenu API passing the menu item ID
              deleteMenu(menuItem[0]); // Assuming the menu item ID is at data[i][0]
            };
            actionCell.appendChild(deleteButton);
            
            row.appendChild(itemNameCell);
            row.appendChild(priceCell);
            row.appendChild(descriptionCell);
            row.appendChild(actionCell);
            
            menuDataDiv.appendChild(row);
          });
        })
        .catch(error => {
          console.error('Error fetching menu data:', error);
        });
    }

    // Function to call the editMenu API
    // ... Existing code ...

    function openEditMenuModal(menuId) {
      fetch(`/menu/${menuId}`)
          .then(response => response.json())
          .then(data => {
              console.log('Edit Menu Data:', data);
  
              // Populate the fields in the "add_item" div with the data
              document.getElementById('edit_description').value = data.data[3]; // Assuming 'description' is the property name in the fetched data
              document.getElementById('edit_item_name').value = data.data[1]; // Assuming 'item_name' is the property name in the fetched data
              document.getElementById('edit_price').value = data.data[2]; // Assuming 'price' is the property name in the fetched data
              document.getElementById('edit_menu_id').value = data.data[0]; // Assuming 'price' is the property name in the fetched data
  
              // Store the menu item ID in the hidden field
             // document.getElementById('edit_menu_id').value = menuId;
  
              // Show the "add_item" div
              document.getElementById('edit_item').style.display = 'block';
          })
          .catch(error => {
              console.error('Error fetching menu item for edit:', error);
          });
  }
    
// ... Existing code ...

  
    // Function to call the deleteMenu API
    function deleteMenu(menuId) {
      fetch(`/del_menu/${menuId}`, { method: 'DELETE' })
        .then(response => response.json())
        .then(data => {
          console.log('Delete Menu Response:', data);
          // You can refresh the menu table or handle any other logic after successful deletion
          getMenuData();
        })
        .catch(error => {
          console.error('Error deleting menu item:', error);
        });
    
    function openAddMenuModal() {
        const addMenuModal = document.getElementById('add-menu-modal');
        console.log("addMenuModal",addMenuModal);
        addMenuModal.style.display = 'block'; // Show the modal
      }

    }

    function updateMenuItem() {
      // Get the data from the edit_item div
      const menuId = document.getElementById('edit_menu_id').value;
      const description = document.getElementById('edit_description').value;
      const itemName = document.getElementById('edit_item_name').value;
      const price = document.getElementById('edit_price').value;
  
      // Build the form data
      const formData = new FormData();
      formData.append('menuId', menuId);
      formData.append('item_name', itemName);
      formData.append('price', price);
      formData.append('description', description);
  
      // Make the PUT request to the API
      fetch(`/upd_menu/${menuId}`, {
          method: 'PUT',
          body: formData,
      })
      .then(response => response.json())
      .then(data => {
          console.log('Update Menu Response:', data);
          // You can handle the response data here if needed
          // For example, close the modal after successful update
          document.getElementById('edit_item').style.display = 'none';
          // Refresh the menu data
          getMenuData();
      })
      .catch(error => {
          console.error('Error updating menu item:', error);
      });
  }
  function getUserData() {
    // Make the API call
    fetch('/user') // Assuming this e()User Id  .thndpoint returns the user data
      .then(response => response.json())
      .then(data => {
        console.log('Fetched data:', data); // Log the fetched data
  
        // Rest of the code to display the data in the modal
        const userDataDiv = document.getElementById('user-table-body');
        userDataDiv.innerHTML = ''; // Clear previous data (if any)
  
        // Create HTML elements to display the data in a table
        data.data.forEach(userItem => {
          const row = document.createElement('tr');
          const idCell = document.createElement('td');
          const nameCell = document.createElement('td');
          const roleCell = document.createElement('td');
          const actionCell = document.createElement('td'); // Cell for Edit and Delete buttons
  
          idCell.textContent = userItem[0];
          nameCell.textContent = userItem[1]; // Item Name from data[i][1]
          roleCell.textContent = userItem[2]; // Price from data[i][2]
  
          // Edit button
          const editButton = document.createElement('button');
          editButton.textContent = 'Edit';
          editButton.onclick = () => {
            openEditUserModal(userItem[0]); // Passing the user item ID to the function
          };
          actionCell.appendChild(editButton);
  
          // Delete button
          const deleteButton = document.createElement('button');
          deleteButton.textContent = 'Delete';
          deleteButton.onclick = () => {
            // Call the deleteUser API passing the user item ID
            deleteUser(userItem[0]); // Assuming the user item ID is at data[i][0]
          };
          actionCell.appendChild(deleteButton);
          
          row.appendChild(idCell);
          row.appendChild(nameCell);
          row.appendChild(roleCell);
          row.appendChild(actionCell);
  
          userDataDiv.appendChild(row);
        });
      })
      .catch(error => {
        console.error('Error fetching user data:', error);
      });
  }
  

    // Function to call the editUser API
    // ... Existing code ...

    function openEditUserModal(userId) {
      fetch(`/user/${userId}`)
          .then(response => response.json())
          .then(data => {
              console.log('Edit User Data:', data);

              // Populate the fields in the "add_item" div with the data
              document.getElementById('edit_name').value = data.data[1]; // Assuming 'item_name' is the property name in the fetched data
              document.getElementById('edit_role').value = data.data[2]; // Assuming 'price' is the property name in the fetched data
              document.getElementById('edit_user_id').value = data.data[0]; // Assuming 'price' is the property name in the fetched data

              // Store the user item ID in the hidden field
            // document.getElementById('edit_user_id').value = userId;

              // Show the "add_item" div
              document.getElementById('edit_user').style.display = 'block';
          })
          .catch(error => {
              console.error('Error fetching user item for edit:', error);
          });
  }
    
    function openEditCustomerModal(customerId) {
      fetch(`/customer/${customerId}`)
          .then(response => response.json())
          .then(data => {
              console.log('Edit Customer Data:', data);
              console.log(' data.data[1]:',  data.data[1]);
              console.log("document.getElementById('edit_user_id').value:", document.getElementById('edit_userId').value);

              // Populate the fields in the "add_item" div with the data
              document.getElementById('edit_userId').value = data.data[1]; // Assuming 'item_name' is the property name in the fetched data
              document.getElementById('edit_customer_id').value = data.data[0]; // Assuming 'item_name' is the property name in the fetched data
              document.getElementById('edit_phone').value = data.data[2]; // Assuming 'price' is the property name in the fetched data
              document.getElementById('edit_address').value = data.data[3]; // Assuming 'price' is the property name in the fetched data

              // Store the user item ID in the hidden field
            // document.getElementById('edit_user_id').value = userId;

              // Show the "add_item" div
              document.getElementById('edit_customer').style.display = 'block';
          })
          .catch(error => {
              console.error('Error fetching user item for edit:', error);
          });
  }
    
  // ... Existing code ...
    // Function to call the deleteUser API
    function deleteUser(userId) {
      fetch(`/del_user/${userId}`, { method: 'DELETE' })
        .then(response => response.json())
        .then(data => {
          console.log('Delete User Response:', data);
          // You can refresh the user table or handle any other logic after successful deletion
          getUserData();
        })
        .catch(error => {
          console.error('Error deleting user item:', error);
        });
      }
      function openAddUserModal() {
        const addUserModal = document.getElementById('add_user');
        console.log("addUserModal",addUserModal);
        addUserModal.style.display = 'block'; // Show the modal
      }
      function openAddCustomerModal() {
        const addUserModal = document.getElementById('add_customer');
        console.log("addUserModal",addUserModal);
        addUserModal.style.display = 'block'; // Show the modal
      }
    function deleteCustomer(customerId) {
      fetch(`/del_customer/${customerId}`, { method: 'DELETE' })
        .then(response => response.json())
        .then(data => {
          console.log('Delete User Response:', data);
          // You can refresh the user table or handle any other logic after successful deletion
          getCustomerData();
        })
        .catch(error => {
          console.error('Error deleting user item:', error);
        });
    }
    function updateUserItem() {
      // Get the data from the edit_item div
      const userId = document.getElementById('edit_user_id').value;
      const name = document.getElementById('edit_name').value;
      const role = document.getElementById('edit_role').value;

      // Build the form data
      const formData = new FormData();
      formData.append('userId', userId);
      formData.append('name', name);
      formData.append('role', role);

      console.log("formData",formData);
      
      // Make the PUT request to the API
      fetch(`/upd_user/${userId}`, {
          method: 'PUT',
          body: formData,
      })
      .then(response => response.json())
      .then(data => {
          console.log('Update User Response:', data);
          // You can handle the response data here if needed
          // For example, close the modal after successful update
          document.getElementById('edit_user').style.display = 'none';
          // Refresh the user data
          getUserData();
      })
      .catch(error => {
          console.error('Error updating user item:', error);
      });
  }
    function updateCustomerItem() {
      // Get the data from the edit_item div

      const customerId = document.getElementById('edit_customer_id').value;
      const userId = document.getElementById('edit_userId').value;
      const phone = document.getElementById('edit_phone').value;
      const address = document.getElementById('edit_address').value;

      // Build the form data
      const formData = new FormData();
      formData.append('user_id', userId);
      formData.append('phone', phone);
      formData.append('address', address);

      console.log("formData",formData);
      
      // Make the PUT request to the API
      fetch(`/upd_customer/${customerId}`, {
          method: 'PUT',
          body: formData,
      })
      .then(response => response.json())
      .then(data => {
          console.log('Update User Response:', data);
          // You can handle the response data here if needed
          // For example, close the modal after successful update
          document.getElementById('edit_customer').style.display = 'none';
          // Refresh the user data
          getCustomerData();
      })
      .catch(error => {
          console.error('Error updating user item:', error);
      });
  }
  //Customer Functions
  function getCustomerData() {
    // Make the API call
    fetch('/customer') // Assuming this endpoint returns the user data
      .then(response => response.json())
      .then(data => {
        console.log('Fetched data:', data); // Log the fetched data
  
        // Rest of the code to display the data in the modal
        const userDataDiv = document.getElementById('customer-table-body');
        userDataDiv.innerHTML = ''; // Clear previous data (if any)
  
        // Create HTML elements to display the data in a table
        data.data.forEach(userItem => {
          const row = document.createElement('tr');
          const userIdCell = document.createElement('td');
          const phoneCell = document.createElement('td');
          const addressCell = document.createElement('td');
          const actionCell = document.createElement('td'); // Cell for Edit and Delete buttons
  
          userIdCell.textContent = userItem[1]; // Item Name from data[i][1]
          phoneCell.textContent = userItem[2]; // Price from data[i][2]
          addressCell.textContent = userItem[3]; // Price from data[i][2]
  
          // Edit button
          const editButton = document.createElement('button');
          editButton.textContent = 'Edit';
          editButton.onclick = () => {
            openEditCustomerModal(userItem[0]); // Passing the user item ID to the function
          };
          actionCell.appendChild(editButton);
  
          // Delete button
          const deleteButton = document.createElement('button');
          deleteButton.textContent = 'Delete';
          deleteButton.onclick = () => {
            // Call the deleteUser API passing the user item ID
            deleteCustomer(userItem[0]); // Assuming the user item ID is at data[i][0]
          };
          actionCell.appendChild(deleteButton);
  
          row.appendChild(userIdCell);
          row.appendChild(phoneCell);
          row.appendChild(addressCell);
          row.appendChild(actionCell);
  
          userDataDiv.appendChild(row);
        });
      })
      .catch(error => {
        console.error('Error fetching user data:', error);
      });
  }

  function deleteEmployee(employeeId) {
    fetch(`/del_employee/${employeeId}`, { method: 'DELETE' })
      .then(response => response.json())
      .then(data => {
        console.log('Delete User Response:', data);
        // You can refresh the user table or handle any other logic after successful deletion
        getEmployeeData();
      })
      .catch(error => {
        console.error('Error deleting user item:', error);
      });
  }

  function updateEmployeeItem() {
    // Get the data from the edit_item div

    const employeeId = document.getElementById('edit_employee_id').value;
    const userId1 = document.getElementById('edit_userId1').value;
    const category = document.getElementById('edit_category').value;
    const salary = document.getElementById('edit_salary').value;

    // Build the form data
    const formData = new FormData();
    formData.append('user_id', userId1);
    formData.append('category', category);
    formData.append('salary', salary);

    console.log("formData",formData);
    
    // Make the PUT request to the API
    fetch(`/upd_employee/${employeeId}`, {
        method: 'PUT',
        body: formData,
    })
    .then(response => response.json())
    .then(data => {
        console.log('Update User Response:', data);
        // You can handle the response data here if needed
        // For example, close the modal after successful update
        document.getElementById('edit_employee').style.display = 'none';
        // Refresh the user data
        getEmployeeData();
    })
    .catch(error => {
        console.error('Error updating user item:', error);
    });
}


  function openEditEmployeeModal(employeeId) {
    fetch(`/employee/${employeeId}`)
        .then(response => response.json())
        .then(data => {
            console.log('Edit Employee Data:', data);
            console.log(' data.data[1]:',  data.data[1]);
            console.log("document.getElementById('edit_user_id').value:", document.getElementById('edit_userId1').value);

            // Populate the fields in the "add_item" div with the data
            document.getElementById('edit_userId1').value = data.data[1]; // Assuming 'item_name' is the property name in the fetched data
            document.getElementById('edit_employee_id').value = data.data[0]; // Assuming 'item_name' is the property name in the fetched data
            document.getElementById('edit_category').value = data.data[2]; // Assuming 'price' is the property name in the fetched data
            document.getElementById('edit_salary').value = data.data[3]; // Assuming 'price' is the property name in the fetched data

            // Store the user item ID in the hidden field
          // document.getElementById('edit_user_id').value = userId;

            // Show the "add_item" div
            document.getElementById('edit_employee').style.display = 'block';
        })
        .catch(error => {
            console.error('Error fetching user item for edit:', error);
        });
}


 //Employee Functions
 function getEmployeeData() {
  // Make the API call
  fetch('/employee') // Assuming this endpoint returns the user data
    .then(response => response.json())
    .then(data => {
      console.log('Fetched data:', data); // Log the fetched data

      // Rest of the code to display the data in the modal
      const userDataDiv = document.getElementById('employee-table-body');
      userDataDiv.innerHTML = ''; // Clear previous data (if any)

      // Create HTML elements to display the data in a table
      data.data.forEach(userItem => {
        const row = document.createElement('tr');
        const userId1Cell = document.createElement('td');
        const categoryCell = document.createElement('td');
        const salaryCell = document.createElement('td');
        const actionCell = document.createElement('td'); // Cell for Edit and Delete buttons

        userId1Cell.textContent = userItem[1]; // Item Name from data[i][1]
        categoryCell.textContent = userItem[2]; // Price from data[i][2]
        salaryCell.textContent = userItem[3]; // Price from data[i][2]

        // Edit button
        const editButton = document.createElement('button');
        editButton.textContent = 'Edit';
        editButton.onclick = () => {
          openEditEmployeeModal(userItem[0]); // Passing the user item ID to the function
        };
        actionCell.appendChild(editButton);

        // Delete button
        const deleteButton = document.createElement('button');
        deleteButton.textContent = 'Delete';
        deleteButton.onclick = () => {
          // Call the deleteUser API passing the user item ID
          deleteEmployee(userItem[0]); // Assuming the user item ID is at data[i][0]
        };
        actionCell.appendChild(deleteButton);

        row.appendChild(userId1Cell);
        row.appendChild(categoryCell);
        row.appendChild(salaryCell);
        row.appendChild(actionCell);

        userDataDiv.appendChild(row);
      });
    })
    .catch(error => {
      console.error('Error fetching user data:', error);
    });
}

function deleteBill(billId) {
  fetch(`/del_bill/${billId}`, { method: 'DELETE' })
    .then(response => response.json())
    .then(data => {
      console.log('Delete User Response:', data);
      // You can refresh the user table or handle any other logic after successful deletion
      getBillData();
    })
    .catch(error => {
      console.error('Error deleting user item:', error);
    });
}


function updateBillItem() {
  // Get the data from the edit_item div

  const billId = document.getElementById('edit_bill_id').value;
  const orderId = document.getElementById('edit_orderId').value;
  const total_amount = document.getElementById('edit_total_amount').value;
  const payment_status = document.getElementById('edit_payment_status').value;

  // Build the form data
  const formData = new FormData();
  formData.append('order_id', orderId);
  formData.append('total_amount', total_amount);
  formData.append('payment_status', payment_status);

  console.log("formData",formData);
  
  // Make the PUT request to the API
  fetch(`/upd_bill/${billId}`, {
      method: 'PUT',
      body: formData,
  })
  .then(response => response.json())
  .then(data => {
      console.log('Update User Response:', data);
      // You can handle the response data here if needed
      // For example, close the modal after successful update
      document.getElementById('edit_bill').style.display = 'none';
      // Refresh the user data
      getBillData();
  })
  .catch(error => {
      console.error('Error updating user item:', error);
  });
}


function openEditBillModal(billId) {
  fetch(`/bill/${billId}`)
      .then(response => response.json())
      .then(data => {
          console.log('Edit bill Data:', data);
          console.log(' data.data[1]:',  data.data[1]);
          console.log("document.getElementById('edit_order_id').value:", document.getElementById('edit_orderId').value);

          // Populate the fields in the "add_item" div with the data
          document.getElementById('edit_orderId').value = data.data[1]; // Assuming 'item_name' is the property name in the fetched data
          document.getElementById('edit_bill_id').value = data.data[0]; // Assuming 'item_name' is the property name in the fetched data
          document.getElementById('edit_total_amount').value = data.data[2]; // Assuming 'price' is the property name in the fetched data
          document.getElementById('edit_payment_status').value = data.data[3]; // Assuming 'price' is the property name in the fetched data

          // Store the user item ID in the hidden field
        // document.getElementById('edit_user_id').value = userId;

          // Show the "add_item" div
          document.getElementById('edit_bill').style.display = 'block';
      })
      .catch(error => {
          console.error('Error fetching user item for edit:', error);
      });
}


 //BIll Functions
 function getBillData() {
  // Make the API call
  fetch('/bill') // Assuming this endpoint returns the user data
    .then(response => response.json())
    .then(data => {
      console.log('Fetched data:', data); // Log the fetched data

      // Rest of the code to display the data in the modal
      const userDataDiv = document.getElementById('bill-table-body');
      userDataDiv.innerHTML = ''; // Clear previous data (if any)

      // Create HTML elements to display the data in a table
      data.data.forEach(userItem => {
        const row = document.createElement('tr');
        const orderIdCell = document.createElement('td');
        const total_amountCell = document.createElement('td');
        const payment_statusCell = document.createElement('td');
        const actionCell = document.createElement('td'); // Cell for Edit and Delete buttons

        orderIdCell.textContent = userItem[1]; // Item Name from data[i][1]
        total_amountCell.textContent = userItem[2]; // Price from data[i][2]
        payment_statusCell.textContent = userItem[3]; // Price from data[i][2]

        // Edit button
        const editButton = document.createElement('button');
        editButton.textContent = 'Edit';
        editButton.onclick = () => {
          openEditBillModal(userItem[0]); // Passing the user item ID to the function
        };
        actionCell.appendChild(editButton);

        // Delete button
        const deleteButton = document.createElement('button');
        deleteButton.textContent = 'Delete';
        deleteButton.onclick = () => {
          // Call the deleteUser API passing the user item ID
          deleteBill(userItem[0]); // Assuming the user item ID is at data[i][0]
        };
        actionCell.appendChild(deleteButton);

        row.appendChild(orderIdCell);
        row.appendChild(total_amountCell);
        row.appendChild(payment_statusCell);
        row.appendChild(actionCell);

        userDataDiv.appendChild(row);
      });
    })
    .catch(error => {
      console.error('Error fetching user data:', error);
    });
}

function deleteOrder(orderId) {
  fetch(`/del_order/${orderId}`, { method: 'DELETE' })
    .then(response => response.json())
    .then(data => {
      console.log('Delete User Response:', data);
      // You can refresh the user table or handle any other logic after successful deletion
      getOrderData();
    })
    .catch(error => {
      console.error('Error deleting user item:', error);
    });
}


function updateOrderItem() {
  // Get the data from the edit_item div

  const orderId1 = document.getElementById('edit_order_Id').value;
  const empId = document.getElementById('edit_empId').value;
  const custId = document.getElementById('edit_custId').value;
  const order_date = document.getElementById('edit_order_date').value;
  const order_item = document.getElementById('edit_order_item').value;
  const quantity = document.getElementById('edit_quantity').value;
  const price = document.getElementById('edit_price1').value;
  const Description = document.getElementById('edit_Description').value;
  const order_status = document.getElementById('edit_order_status').value;

  // Build the form data
  const formData = new FormData();
  formData.append('emp_id', empId);
  formData.append('cust_id', custId);
  formData.append('order_date', order_date);
  formData.append('order_item', order_item);
  formData.append('quantity', quantity);
  formData.append('price', price);
  formData.append('description', Description);
  formData.append('order_status', order_status);

  console.log("formData",formData);
  
  // Make the PUT request to the API
  fetch(`/upd_order/${orderId1}`, {
      method: 'PUT',
      body: formData,
  })
  .then(response => response.json())
  .then(data => {
      console.log('Update User Response:', data);
      // You can handle the response data here if needed
      // For example, close the modal after successful update
      document.getElementById('edit_order').style.display = 'none';
      // Refresh the user data
      getOrderData();
  })
  .catch(error => {
      console.error('Error updating user item:', error);
  });
}


function openEditOrderModal(orderId) {
  fetch(`/order/${orderId}`)
      .then(response => response.json())
      .then(data => {
          console.log('Edit order Data:', data);
          console.log(' data.data[1]:',  data.data[1]);
          console.log("document.getElementById('edit_emp_id').value:", document.getElementById('edit_empId').value);

          // Populate the fields in the "add_item" div with the data
          document.getElementById('edit_empId').value = data.data[1]; // Assuming 'item_name' is the property name in the fetched data
          document.getElementById('edit_order_Id').value = data.data[0]; // Assuming 'item_name' is the property name in the fetched data
          document.getElementById('edit_custId').value = data.data[2]; // Assuming 'price' is the property name in the fetched data
          document.getElementById('edit_order_date').value = data.data[3]; // Assuming 'price' is the property name in the fetched data
          document.getElementById('edit_order_item').value = data.data[4];
          document.getElementById('edit_quantity').value = data.data[5];
          document.getElementById('edit_price1').value = data.data[6];
          document.getElementById('edit_Description').value = data.data[7];
          document.getElementById('edit_order_status').value = data.data[8];
          // Store the user item ID in the hidden field
        // document.getElementById('edit_user_id').value = userId;

          // Show the "add_item" div
          document.getElementById('edit_order').style.display = 'block';
      })
      .catch(error => {
          console.error('Error fetching user item for edit:', error);
      });
}


 //Order Functions
 function getOrderData() {
  // Make the API call
  fetch('/order') // Assuming this endpoint returns the user data
    .then(response => response.json())
    .then(data => {
      console.log('Fetched data:', data); // Log the fetched data

      // Rest of the code to display the data in the modal
      const userDataDiv = document.getElementById('order-table-body');
      userDataDiv.innerHTML = ''; // Clear previous data (if any)

      // Create HTML elements to display the data in a table
      data.data.forEach(userItem => {
        const row = document.createElement('tr');
        const empIdCell = document.createElement('td');
        const custIdCell = document.createElement('td');
        const order_dateCell = document.createElement('td');
        const order_itemCell = document.createElement('td');
        const quantityCell = document.createElement('td');
        const priceCell = document.createElement('td');
        const DescriptionCell = document.createElement('td');
        const order_statusCell = document.createElement('td');
        const actionCell = document.createElement('td'); // Cell for Edit and Delete buttons

        empIdCell.textContent = userItem[1]; // Item Name from data[i][1]
        custIdCell.textContent = userItem[2]; // Price from data[i][2]
        order_dateCell.textContent = userItem[3]; // Price from data[i][2]
        order_itemCell.textContent = userItem[4];
        quantityCell.textContent = userItem[5];
        priceCell.textContent = userItem[6];
        DescriptionCell.textContent = userItem[7];
        order_statusCell.textContent = userItem[8];
      
        // Edit button
        const editButton = document.createElement('button');
        editButton.textContent = 'Edit';
        editButton.onclick = () => {
          openEditOrderModal(userItem[0]); // Passing the user item ID to the function
        };
        actionCell.appendChild(editButton);

        // Delete button
        const deleteButton = document.createElement('button');
        deleteButton.textContent = 'Delete';
        deleteButton.onclick = () => {
          // Call the deleteUser API passing the user item ID
          deleteOrder(userItem[0]); // Assuming the user item ID is at data[i][0]
        };
        actionCell.appendChild(deleteButton);

        row.appendChild(empIdCell);
        row.appendChild(custIdCell);
        row.appendChild(order_dateCell);
        row.appendChild(order_itemCell);
        row.appendChild(quantityCell);
        row.appendChild(priceCell);
        row.appendChild(DescriptionCell);
        row.appendChild(order_statusCell);
        row.appendChild(actionCell);

        userDataDiv.appendChild(row);
      });
    })
    .catch(error => {
      console.error('Error fetching user data:', error);
    });
}

function deleteStock(stockId) {
  fetch(`/del_stock/${stockId}`, { method: 'DELETE' })
    .then(response => response.json())
    .then(data => {
      console.log('Delete User Response:', data);
      // You can refresh the user table or handle any other logic after successful deletion
      getStockData();
    })
    .catch(error => {
      console.error('Error deleting user item:', error);
    });
}


function updateStockItem() {
  // Get the data from the edit_item div

  const stockId = document.getElementById('edit_stock_id').value;
  const menu_item = document.getElementById('edit_menu_item').value;
  const quantity1 = document.getElementById('edit_quantity1').value;

  // Build the form data
  const formData = new FormData();
  formData.append('menu_item', menu_item);
  formData.append('quantity', quantity1);

  console.log("formData",formData);
  
  // Make the PUT request to the API
  fetch(`/upd_stock/${stockId}`, {
      method: 'PUT',
      body: formData,
  })
  .then(response => response.json())
  .then(data => {
      console.log('Update User Response:', data);
      // You can handle the response data here if needed
      // For example, close the modal after successful update
      document.getElementById('edit_stock').style.display = 'none';
      // Refresh the user data
      getStockData();
  })
  .catch(error => {
      console.error('Error updating user item:', error);
  });
}


function openEditStockModal(stockId) {
  fetch(`/stock/${stockId}`)
      .then(response => response.json())
      .then(data => {
          console.log('Edit stock Data:', data);
          console.log(' data.data[1]:',  data.data[1]);
          // Populate the fields in the "add_item" div with the data
          document.getElementById('edit_menu_item').value = data.data[1]; // Assuming 'item_name' is the property name in the fetched data
          document.getElementById('edit_quantity1').value = data.data[2]; // Assuming 'item_name' is the property name in the fetched data
          document.getElementById('edit_stock_id').value = data.data[0]; // Assuming 'price' is the property name in the fetched data
          // Store the user item ID in the hidden field
        // document.getElementById('edit_user_id').value = userId;

          // Show the "add_item" div
          document.getElementById('edit_stock').style.display = 'block';
      })
      .catch(error => {
          console.error('Error fetching user item for edit:', error);
      });
}


 //Stock Functions
 function getStockData() {
  // Make the API call
  fetch('/stock') // Assuming this endpoint returns the user data
    .then(response => response.json())
    .then(data => {
      console.log('Fetched data:', data); // Log the fetched data

      // Rest of the code to display the data in the modal
      const userDataDiv = document.getElementById('stock-table-body');
      userDataDiv.innerHTML = ''; // Clear previous data (if any)

      // Create HTML elements to display the data in a table
      data.data.forEach(userItem => {
        const row = document.createElement('tr');
        const menu_itemCell = document.createElement('td');
        const quantityCell = document.createElement('td');
        const actionCell = document.createElement('td'); // Cell for Edit and Delete buttons

        menu_itemCell.textContent = userItem[1];
        quantityCell.textContent = userItem[2];
      
        // Edit button
        const editButton = document.createElement('button');
        editButton.textContent = 'Edit';
        editButton.onclick = () => {
          openEditStockModal(userItem[0]); // Passing the user item ID to the function
        };
        actionCell.appendChild(editButton);

        // Delete button
        const deleteButton = document.createElement('button');
        deleteButton.textContent = 'Delete';
        deleteButton.onclick = () => {
          // Call the deleteUser API passing the user item ID
          deleteStock(userItem[0]); // Assuming the user item ID is at data[i][0]
        };
        actionCell.appendChild(deleteButton);

        row.appendChild(menu_itemCell);
        row.appendChild(quantityCell);
        row.appendChild(actionCell);

        userDataDiv.appendChild(row);
      });
    })
    .catch(error => {
      console.error('Error fetching user data:', error);
    });
}


</script>
</body>
</html>

